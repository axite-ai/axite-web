---
phase: 01-foundation-extraction
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/www/**
  - packages/**
  - pnpm-workspace.yaml
  - turbo.json
  - package.json
  - tsconfig.json
autonomous: true

must_haves:
  truths:
    - "Supabase www source code exists in apps/www/ directory"
    - "Required packages exist in packages/ directory"
    - "Workspace configuration files exist at project root"
  artifacts:
    - path: "apps/www/package.json"
      provides: "Next.js app configuration"
    - path: "packages/ui/package.json"
      provides: "UI component package"
    - path: "packages/common/package.json"
      provides: "Common utilities package"
    - path: "pnpm-workspace.yaml"
      provides: "Workspace definition"
  key_links:
    - from: "apps/www/package.json"
      to: "packages/*"
      via: "workspace:* dependencies"
      pattern: "workspace:\\*"
---

<objective>
Clone Supabase repository and extract /apps/www with required packages into the standalone project structure.

Purpose: Establish the raw source code foundation that will be transformed in subsequent plans. This gives us all the Supabase marketing site code locally.

Output: Complete www app and packages directories with original Supabase configuration files.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-extraction/01-CONTEXT.md
@.planning/phases/01-foundation-extraction/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Clone Supabase repository</name>
  <files>
    /tmp/supabase-clone (temporary)
  </files>
  <action>
Clone the supabase/supabase repository to a temporary location. Use shallow clone with depth 1 to minimize download size since we only need the current state, not history.

```bash
gh repo clone supabase/supabase /tmp/supabase-clone -- --depth 1
```

If gh auth fails, fall back to:
```bash
git clone --depth 1 https://github.com/supabase/supabase.git /tmp/supabase-clone
```

Verify the clone contains apps/www/ and packages/ directories.
  </action>
  <verify>
```bash
ls -la /tmp/supabase-clone/apps/www/
ls -la /tmp/supabase-clone/packages/
```
Both directories should exist with content.
  </verify>
  <done>Supabase repository cloned with apps/www/ and packages/ directories present.</done>
</task>

<task type="auto">
  <name>Task 2: Copy www app and packages to project</name>
  <files>
    apps/www/**
    packages/**
    pnpm-workspace.yaml
    turbo.json
    package.json
    tsconfig.json
  </files>
  <action>
Copy the required directories and root configuration files from the cloned repo to axite-new/:

1. Copy apps/www directory:
```bash
cp -r /tmp/supabase-clone/apps/www ./apps/www
```

2. Copy the packages directory (all packages - we'll audit usage in Phase 2):
```bash
cp -r /tmp/supabase-clone/packages ./packages
```

3. Copy essential root configuration files:
```bash
cp /tmp/supabase-clone/pnpm-workspace.yaml ./pnpm-workspace.yaml
cp /tmp/supabase-clone/turbo.json ./turbo.json
cp /tmp/supabase-clone/package.json ./package.json
cp /tmp/supabase-clone/tsconfig.json ./tsconfig.json
```

4. Clean up the temporary clone:
```bash
rm -rf /tmp/supabase-clone
```

The structure should now be:
```
axite-new/
├── apps/
│   └── www/
├── packages/
│   ├── ui/
│   ├── common/
│   ├── config/
│   ├── shared-data/
│   ├── icons/
│   └── ... (other packages)
├── pnpm-workspace.yaml
├── turbo.json
├── package.json
└── tsconfig.json
```
  </action>
  <verify>
```bash
# Verify directory structure
ls -la apps/www/
ls -la packages/
ls -la *.yaml *.json
# Verify key files exist
cat apps/www/package.json | head -20
cat pnpm-workspace.yaml
```
  </verify>
  <done>
- apps/www/ contains Next.js app with package.json
- packages/ contains ui, common, config, shared-data, icons directories (at minimum)
- Root has pnpm-workspace.yaml, turbo.json, package.json, tsconfig.json
  </done>
</task>

</tasks>

<verification>
After both tasks complete:

1. Directory structure check:
```bash
find . -maxdepth 3 -type d -not -path '*/node_modules/*' -not -path '*/.git/*' | head -30
```

2. Key files present:
```bash
ls -la apps/www/package.json packages/ui/package.json packages/common/package.json pnpm-workspace.yaml
```

3. Workspace packages listed (should show workspace:* references - these will be converted in Plan 02):
```bash
grep -r "workspace:" apps/www/package.json | head -10
```
</verification>

<success_criteria>
- apps/www/package.json exists and contains Next.js configuration
- packages/ directory contains at least: ui, common, config, shared-data, icons, ui-patterns, tsconfig
- pnpm-workspace.yaml exists at project root
- No node_modules directories exist yet (clean state for protocol conversion)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-extraction/01-01-SUMMARY.md`
</output>
