---
phase: 09-navigation-cleanup
plan: 02
type: execute
wave: 2
depends_on: ["09-01"]
files_modified:
  - apps/www/components/Nav/ProductDropdown.tsx
  - apps/www/components/Nav/index.tsx
autonomous: true

must_haves:
  truths:
    - "Product dropdown displays Axite governance features not Supabase products"
    - "Dropdown shows Overview, Policy, Identity, Audit sections"
    - "ContextForge modules section appears in dropdown"
    - "No Supabase text (Customer Stories, Comparisons) in Product dropdown"
  artifacts:
    - path: "apps/www/components/Nav/ProductDropdown.tsx"
      provides: "Axite product dropdown component"
      contains: "Policy"
    - path: "apps/www/components/Nav/index.tsx"
      provides: "Updated header with Axite branding in buttons"
      contains: "Get started"
  key_links:
    - from: "apps/www/components/Nav/ProductDropdown.tsx"
      to: "apps/www/data/MainProducts.tsx"
      via: "MainProductsData import"
      pattern: "MainProductsData"
---

<objective>
Update the Product dropdown component to display Axite features and update nav buttons.

Purpose: Transform Product dropdown from Supabase products to Axite governance features
Output: Clean dropdown showing Policy/Identity/Audit features with ContextForge integrations
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/09-navigation-cleanup/09-CONTEXT.md
@apps/www/components/Nav/ProductDropdown.tsx
@apps/www/components/Nav/index.tsx
@apps/www/data/MainProducts.tsx
@apps/www/data/ProductModules.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Simplify Product dropdown for Axite features</name>
  <files>apps/www/components/Nav/ProductDropdown.tsx</files>
  <action>
Replace the ProductDropdown component with a simplified Axite version:

```tsx
'use client'

import React from 'react'
import Link from 'next/link'
import { ChevronRight } from 'lucide-react'

import { NavigationMenuLink } from 'ui/src/components/shadcn/ui/navigation-menu'
import MenuItem from './MenuItem'

import MainProductsData from 'data/MainProducts'
import ProductModulesData from 'data/ProductModules'

export const ProductDropdown = () => {
  return (
    <div className="flex flex-col xl:flex-row">
      <div className="flex flex-col">
        <div className="flex flex-row py-6 px-6 gap-8">
          {/* Governance Features */}
          <ul className="flex flex-col gap-4 w-[280px]">
            <div className="text-foreground-lighter text-xs uppercase tracking-widest font-mono mb-2">
              Platform
            </div>
            {Object.values(MainProductsData).map((product) => (
              <NavigationMenuLink key={product.name} asChild>
                <MenuItem
                  title={product.name}
                  href={product.url}
                  description={product.description_short}
                  icon={product.icon}
                  className="h-fit p-0"
                  hasChevron
                />
              </NavigationMenuLink>
            ))}
          </ul>

          {/* ContextForge & Resources */}
          <div className="flex flex-col gap-4 w-[250px]">
            <div className="text-foreground-lighter text-xs uppercase tracking-widest font-mono">
              Resources
            </div>
            <ul className="flex flex-col gap-4">
              {Object.values(ProductModulesData).map((module) => (
                <NavigationMenuLink key={module.name} asChild>
                  <Link
                    href={module.url}
                    className="
                      h-fit group/menu-item
                      flex items-start gap-2
                      text-xs leading-none
                      text-foreground-light hover:text-foreground
                      no-underline outline-none select-none
                      focus-visible:ring-2 focus-visible:ring-foreground-lighter focus-visible:text-foreground
                    "
                  >
                    <div className="w-8 h-8 min-w-8 shrink-0 bg-background border flex items-center justify-center rounded-md">
                      <svg
                        className="h-4 w-4 group-hover/menu-item:text-foreground group-focus-visible/menu-item:text-foreground"
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        aria-hidden="true"
                      >
                        <path
                          strokeLinecap="round"
                          strokeLinejoin="round"
                          strokeWidth="1.5"
                          d={module.icon}
                          stroke="currentColor"
                        />
                      </svg>
                    </div>
                    <div className="flex flex-col justify-center">
                      <div className="flex items-center gap-1">
                        <p className="leading-snug text-foreground">{module.name}</p>
                        <ChevronRight
                          strokeWidth={2}
                          className="w-3 h-3 text-foreground transition-all will-change-transform -translate-x-1 opacity-0 group-hover/menu-item:translate-x-0 group-hover/menu-item:opacity-100"
                        />
                      </div>
                      {module.description_short && (
                        <p className="line-clamp-2 leading-tight text-foreground-lighter group-hover/menu-item:text-foreground-light group-focus-visible/menu-item:text-foreground-light">
                          {module.description_short}
                        </p>
                      )}
                    </div>
                  </Link>
                </NavigationMenuLink>
              ))}
            </ul>
          </div>
        </div>
      </div>

      {/* Right sidebar with CTA */}
      <div className="bg-surface-75 border-t xl:border-t-0 xl:border-l p-6 gap-4 flex flex-col w-full xl:w-[280px]">
        <div className="flex flex-col gap-3">
          <p className="text-foreground-lighter text-xs uppercase tracking-widest font-mono">
            Get Started
          </p>
          <p className="text-sm text-foreground-light">
            Add governance to your AI agents in minutes. Policy enforcement, identity management, and audit trails out of the box.
          </p>
          <Link
            href="/docs/quickstart"
            className="
              group flex items-center gap-1 text-sm text-brand-link hover:text-brand
              focus-visible:ring-2 focus-visible:outline-none focus-visible:ring-foreground-lighter focus-visible:rounded
            "
          >
            View quickstart guide
            <ChevronRight className="h-3 w-3 transition-transform will-change-transform -translate-x-1 group-hover:translate-x-0" />
          </Link>
        </div>

        <div className="border-t pt-4 mt-2">
          <Link
            href="/enterprise"
            className="
              group flex items-center gap-1 text-sm text-foreground-light hover:text-foreground
              focus-visible:ring-2 focus-visible:outline-none focus-visible:ring-foreground-lighter focus-visible:rounded
            "
          >
            Enterprise solutions
            <ChevronRight className="h-3 w-3 transition-transform will-change-transform -translate-x-1 group-hover:translate-x-0" />
          </Link>
        </div>
      </div>
    </div>
  )
}
```

Key changes:
- Remove CustomerStories, ComparisonsData imports and sections
- Remove useBreakpoint hook (not needed for simplified layout)
- Remove Image import (no customer images)
- Simplify to two columns: Platform features + Resources
- Add right sidebar with quickstart CTA and enterprise link
- Keep same visual styling patterns for consistency
  </action>
  <verify>
Run: `grep -E "Customer|Comparison" apps/www/components/Nav/ProductDropdown.tsx`
Verify: No matches (Supabase content removed)
Run: `grep "Platform" apps/www/components/Nav/ProductDropdown.tsx`
Verify: "Platform" section header appears
  </verify>
  <done>Product dropdown shows Axite features without Supabase customer stories</done>
</task>

<task type="auto">
  <name>Task 2: Update Nav component buttons for Axite</name>
  <files>apps/www/components/Nav/index.tsx</files>
  <action>
Update the CTA buttons and dashboard links in the Nav component.

Find the sign-in and start project buttons section (around lines 161-188) and update:

1. Update the "Start your project" button text to "Get started":
```tsx
<Button className="hidden lg:block" asChild>
  <Link
    href="/docs/quickstart"
    onClick={() =>
      sendTelemetryEvent({
        action: 'get_started_button_clicked',
        properties: { buttonLocation: 'Header Nav' },
      })
    }
  >
    Get started
  </Link>
</Button>
```

2. Update the Sign in link to point to a placeholder (we don't have auth yet):
```tsx
<Button type="default" className="hidden lg:block" asChild>
  <Link
    href="/contact/sales"
    onClick={() =>
      sendTelemetryEvent({
        action: 'contact_sales_clicked',
        properties: { buttonLocation: 'Header Nav' },
      })
    }
  >
    Contact sales
  </Link>
</Button>
```

3. Remove Dashboard link for logged-in users section (around lines 155-159) since we don't have auth:
The isLoggedIn conditional block can remain but won't trigger since we don't have Supabase auth.

The key changes:
- "Sign in" becomes "Contact sales" linking to /contact/sales
- "Start your project" becomes "Get started" linking to /docs/quickstart
- Keep telemetry events with updated action names
  </action>
  <verify>
Run: `grep "Get started" apps/www/components/Nav/index.tsx`
Verify: "Get started" button text appears
Run: `grep "Contact sales" apps/www/components/Nav/index.tsx`
Verify: "Contact sales" button text appears
Run: `grep "supabase.com/dashboard" apps/www/components/Nav/index.tsx`
Verify: No matches (Supabase dashboard links removed)
  </verify>
  <done>Nav buttons show "Contact sales" and "Get started" with Axite-appropriate links</done>
</task>

</tasks>

<verification>
1. Run the dev server: `cd apps/www && pnpm dev`
2. Open Product dropdown - should show Platform section (Overview, Policy, Identity, Audit) and Resources section (MCP Servers, Integrations, Documentation)
3. Right sidebar should show quickstart CTA and enterprise link
4. Header buttons should show "Contact sales" and "Get started"
5. No Supabase customer stories or comparison links visible
</verification>

<success_criteria>
- Product dropdown shows Axite governance features in clean two-column layout
- No Supabase customer stories or comparison content
- Header CTAs updated to Axite-appropriate actions
- No broken imports or runtime errors
</success_criteria>

<output>
After completion, create `.planning/phases/09-navigation-cleanup/09-02-SUMMARY.md`
</output>
