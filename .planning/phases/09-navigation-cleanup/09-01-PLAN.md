---
phase: 09-navigation-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/www/data/nav.tsx
  - apps/www/data/MainProducts.tsx
  - apps/www/data/ProductModules.tsx
autonomous: true

must_haves:
  truths:
    - "Primary nav shows Product, Pricing, Enterprise, Blog, Trust items"
    - "Product is the only item with a dropdown menu"
    - "Supabase product URLs removed from MainProducts (Auth, Database, Storage, Functions, Realtime)"
    - "Product modules updated to Axite governance features (Policy, Identity, Audit)"
  artifacts:
    - path: "apps/www/data/nav.tsx"
      provides: "Navigation menu configuration for Axite"
      contains: "Enterprise"
    - path: "apps/www/data/MainProducts.tsx"
      provides: "Axite product items for dropdown"
      contains: "Policy"
    - path: "apps/www/data/ProductModules.tsx"
      provides: "Axite feature modules"
      contains: "Audit"
  key_links:
    - from: "apps/www/components/Nav/index.tsx"
      to: "apps/www/data/nav.tsx"
      via: "getMenu import"
      pattern: "getMenu()"
---

<objective>
Update the main navigation data to reflect Axite's product structure.

Purpose: Replace Supabase navigation with Axite-specific items (Product, Pricing, Enterprise, Blog, Trust)
Output: Navigation data files updated for Axite agent governance platform
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/09-navigation-cleanup/09-CONTEXT.md
@apps/www/data/nav.tsx
@apps/www/data/MainProducts.tsx
@apps/www/data/ProductModules.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update main navigation structure</name>
  <files>apps/www/data/nav.tsx</files>
  <action>
Update the navigation structure to match Axite's site:

Replace the entire `getMenu` function with:
```tsx
import { ProductDropdown } from 'components/Nav/ProductDropdown'

export const getMenu = () => ({
  primaryNav: [
    {
      title: 'Product',
      hasDropdown: true,
      dropdown: <ProductDropdown />,
      dropdownContainerClassName: 'rounded-xl',
    },
    {
      title: 'Pricing',
      url: '/pricing',
    },
    {
      title: 'Enterprise',
      url: '/enterprise',
    },
    {
      title: 'Blog',
      url: '/blog',
    },
    {
      title: 'Trust',
      url: '/trust',
    },
  ],
})
```

Key changes:
- Remove Developers dropdown (link to docs will be in Product dropdown or footer)
- Remove Solutions dropdown
- Add Enterprise direct link
- Add Trust direct link
- Product keeps dropdown but contents will change in next task
- Remove imports for DevelopersDropdown, SolutionsDropdown, and their data
  </action>
  <verify>
Run: `grep -E "Enterprise|Trust" apps/www/data/nav.tsx`
Verify: Both Enterprise and Trust appear as nav items
Run: `grep -c "hasDropdown: true" apps/www/data/nav.tsx`
Verify: Returns 1 (only Product has dropdown)
  </verify>
  <done>Main nav shows Product (dropdown), Pricing, Enterprise, Blog, Trust</done>
</task>

<task type="auto">
  <name>Task 2: Update MainProducts for Axite governance features</name>
  <files>apps/www/data/MainProducts.tsx</files>
  <action>
Replace the Supabase products with Axite governance features:

```tsx
export type ProductType = {
  [key: string]: {
    name: string
    icon: string
    description: string | JSX.Element
    description_short: string
    label: string
    url: string
  }
}

const MainProducts: ProductType = {
  overview: {
    name: 'Overview',
    icon: 'M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6',
    description: (
      <>
        The <strong>agent governance platform</strong> that provides policy enforcement, identity management, and audit trails for AI agents.
      </>
    ),
    description_short: 'Agent governance control plane',
    label: '',
    url: '/product',
  },
  policy: {
    name: 'Policy Enforcement',
    icon: 'M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z',
    description: (
      <>
        <strong>Allow, deny, or require approval</strong> for agent actions at the gateway level.
      </>
    ),
    description_short: 'Control what agents can do',
    label: '',
    url: '/product/policy',
  },
  identity: {
    name: 'Identity & RBAC',
    icon: 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z',
    description: (
      <>
        <strong>Role-based access control</strong> for agents, tools, and actions with least-privilege defaults.
      </>
    ),
    description_short: 'RBAC for agents and tools',
    label: '',
    url: '/product/identity',
  },
  audit: {
    name: 'Audit Trails',
    icon: 'M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01',
    description: (
      <>
        <strong>Complete decision traces</strong> and logs for compliance and debugging.
      </>
    ),
    description_short: 'Audit-grade evidence and logs',
    label: '',
    url: '/product/audit',
  },
}

export default MainProducts
```

Key changes:
- Remove Supabase products (Database, Auth, Storage, Functions, Realtime)
- Add Axite governance features: Overview, Policy, Identity, Audit
- Use Heroicons-style SVG path data for icons
- Keep same TypeScript interface for compatibility
  </action>
  <verify>
Run: `grep -E "Policy|Identity|Audit" apps/www/data/MainProducts.tsx`
Verify: All three Axite features appear
Run: `grep -E "Database|Auth|Storage|Realtime" apps/www/data/MainProducts.tsx`
Verify: No matches (Supabase products removed)
  </verify>
  <done>MainProducts contains Axite governance features (Policy, Identity, Audit)</done>
</task>

<task type="auto">
  <name>Task 3: Update ProductModules for ContextForge integrations</name>
  <files>apps/www/data/ProductModules.tsx</files>
  <action>
Replace Supabase modules with ContextForge integration highlights:

```tsx
export type ProductModuleType = {
  [key: string]: {
    name: string
    icon: string
    description: string | JSX.Element
    description_short: string
    label: string
    url: string
  }
}

const ProductModules: ProductModuleType = {
  mcpServers: {
    name: 'MCP Servers',
    icon: 'M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2',
    description: (
      <>
        <strong>Pre-built MCP servers</strong> for common integrations via ContextForge.
      </>
    ),
    description_short: 'Pre-built MCP server catalog',
    label: '',
    url: '/product/mcp-servers',
  },
  integrations: {
    name: 'Integrations',
    icon: 'M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z',
    description: (
      <>
        Connect to <strong>databases, APIs, and services</strong> through governed channels.
      </>
    ),
    description_short: 'Governed tool connections',
    label: '',
    url: '/product/integrations',
  },
  docs: {
    name: 'Documentation',
    icon: 'M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253',
    description: (
      <>
        Guides and API reference for <strong>implementing Axite</strong> in your stack.
      </>
    ),
    description_short: 'Guides and API reference',
    label: '',
    url: '/docs',
  },
}

export default ProductModules
```

Key changes:
- Remove Supabase modules (Vector, Cron, Queues)
- Add ContextForge-related items: MCP Servers, Integrations, Documentation
- Use Heroicons-style SVG path data for icons
- Update TypeScript interface name for clarity
  </action>
  <verify>
Run: `grep -E "MCP|Integrations|Documentation" apps/www/data/ProductModules.tsx`
Verify: All three items appear
Run: `grep -E "Vector|Cron|Queues" apps/www/data/ProductModules.tsx`
Verify: No matches (Supabase modules removed)
  </verify>
  <done>ProductModules contains ContextForge integrations and documentation links</done>
</task>

</tasks>

<verification>
1. Run the dev server: `cd apps/www && pnpm dev`
2. Check header navigation shows: Product (with dropdown), Pricing, Enterprise, Blog, Trust
3. Open Product dropdown - should show Overview, Policy, Identity, Audit + MCP Servers, Integrations, Docs
4. Verify no Supabase product names (Database, Auth, Storage, etc.) appear in navigation
</verification>

<success_criteria>
- Nav bar shows Product, Pricing, Enterprise, Blog, Trust
- Only Product has a dropdown
- Product dropdown shows Axite governance features
- No Supabase product names in navigation data
</success_criteria>

<output>
After completion, create `.planning/phases/09-navigation-cleanup/09-01-SUMMARY.md`
</output>
