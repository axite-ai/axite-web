---
phase: 02-package-inlining
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - lib/config/
  - lib/icons/
  - lib/api-types/
  - lib/shared-data/
  - lib/common/
  - lib/ui/
  - lib/ui-patterns/
autonomous: true

must_haves:
  truths:
    - "7 packages exist in lib/ directory with source files"
    - "No node_modules, test files, or build artifacts copied"
    - "Package internal structure preserved"
  artifacts:
    - path: "lib/config/tailwind.config.js"
      provides: "Tailwind configuration"
    - path: "lib/ui/index.tsx"
      provides: "UI component exports"
    - path: "lib/common/index.ts"
      provides: "Common utilities exports"
    - path: "lib/icons/src/icons/index.ts"
      provides: "Icon component exports"
    - path: "lib/shared-data/index.ts"
      provides: "Shared data exports"
    - path: "lib/ui-patterns/index.tsx"
      provides: "UI patterns exports"
    - path: "lib/api-types/index.ts"
      provides: "API type definitions"
  key_links: []
---

<objective>
Copy all 7 required monorepo packages from packages/ to lib/ directory.

Purpose: Extract packages from monorepo structure into standalone project while excluding test files, node_modules, and build artifacts.
Output: 7 package directories in lib/ with source files ready for tsconfig path alias configuration.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-package-inlining/02-CONTEXT.md
@.planning/phases/02-package-inlining/02-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Copy Level 0 packages (no internal dependencies)</name>
  <files>lib/config/, lib/icons/, lib/api-types/</files>
  <action>
Create lib/ directory and copy the three Level 0 packages using rsync with exclusion patterns.

For each package, run:
```bash
rsync -av --progress \
  --exclude='node_modules' \
  --exclude='*.test.ts' \
  --exclude='*.test.tsx' \
  --exclude='*.spec.ts' \
  --exclude='__tests__' \
  --exclude='__mocks__' \
  --exclude='coverage' \
  --exclude='.turbo' \
  --exclude='dist' \
  --exclude='build' \
  packages/{package}/ lib/{package}/
```

Copy these packages:
1. config - Tailwind configuration, PostCSS config
2. icons - Icon components (pre-built TypeScript, no build step needed)
3. api-types - Type definitions (required by common and ui-patterns)

Note: tsconfig package is NOT copied - it will be inlined into root tsconfig.json in Plan 02.
  </action>
  <verify>
```bash
# Verify directories exist with content
ls -la lib/config/
ls -la lib/icons/
ls -la lib/api-types/

# Verify no node_modules copied
test ! -d lib/config/node_modules && echo "No node_modules in config"
test ! -d lib/icons/node_modules && echo "No node_modules in icons"
test ! -d lib/api-types/node_modules && echo "No node_modules in api-types"
```
  </verify>
  <done>lib/config/, lib/icons/, lib/api-types/ exist with source files, no node_modules or test files</done>
</task>

<task type="auto">
  <name>Task 2: Copy Level 1 packages (depend on Level 0)</name>
  <files>lib/shared-data/, lib/common/</files>
  <action>
Copy the two Level 1 packages using same rsync exclusion pattern.

```bash
rsync -av --progress \
  --exclude='node_modules' \
  --exclude='*.test.ts' \
  --exclude='*.test.tsx' \
  --exclude='*.spec.ts' \
  --exclude='__tests__' \
  --exclude='__mocks__' \
  --exclude='coverage' \
  --exclude='.turbo' \
  --exclude='dist' \
  --exclude='build' \
  packages/{package}/ lib/{package}/
```

Copy these packages:
1. shared-data - Pricing, products data constants
2. common - Shared utilities, hooks, types (depends on api-types and config)
  </action>
  <verify>
```bash
ls -la lib/shared-data/
ls -la lib/common/

# Verify key files exist
test -f lib/shared-data/index.ts && echo "shared-data index exists"
test -f lib/common/index.ts && echo "common index exists"

# No node_modules
test ! -d lib/shared-data/node_modules && echo "No node_modules in shared-data"
test ! -d lib/common/node_modules && echo "No node_modules in common"
```
  </verify>
  <done>lib/shared-data/, lib/common/ exist with source files, no node_modules or test files</done>
</task>

<task type="auto">
  <name>Task 3: Copy Level 2 packages (depend on Level 1)</name>
  <files>lib/ui/, lib/ui-patterns/</files>
  <action>
Copy the two Level 2 packages using same rsync exclusion pattern.

```bash
rsync -av --progress \
  --exclude='node_modules' \
  --exclude='*.test.ts' \
  --exclude='*.test.tsx' \
  --exclude='*.spec.ts' \
  --exclude='__tests__' \
  --exclude='__mocks__' \
  --exclude='coverage' \
  --exclude='.turbo' \
  --exclude='dist' \
  --exclude='build' \
  packages/{package}/ lib/{package}/
```

Copy these packages:
1. ui - Core UI components (depends on common, config)
2. ui-patterns - Higher-level UI patterns (depends on common, icons, ui, api-types)
  </action>
  <verify>
```bash
ls -la lib/ui/
ls -la lib/ui-patterns/

# Verify key files exist
test -f lib/ui/index.tsx && echo "ui index exists"
test -f lib/ui-patterns/index.tsx && echo "ui-patterns index exists"

# Count total files copied to lib/
find lib/ -type f | wc -l
```
  </verify>
  <done>lib/ui/, lib/ui-patterns/ exist with source files; all 7 packages now in lib/</done>
</task>

</tasks>

<verification>
All 7 packages copied to lib/:
```bash
# Verify all 7 directories exist
ls -d lib/config lib/icons lib/api-types lib/shared-data lib/common lib/ui lib/ui-patterns

# Verify no node_modules anywhere in lib/
find lib/ -type d -name node_modules | wc -l  # Should be 0

# Verify no test files copied
find lib/ -name "*.test.ts" -o -name "*.test.tsx" -o -name "*.spec.ts" | wc -l  # Should be 0
```
</verification>

<success_criteria>
1. 7 directories exist: lib/config/, lib/icons/, lib/api-types/, lib/shared-data/, lib/common/, lib/ui/, lib/ui-patterns/
2. Each directory contains source files (.ts, .tsx, .js, .json)
3. No node_modules directories anywhere in lib/
4. No test files (*.test.ts, *.test.tsx, *.spec.ts) in lib/
5. No build artifacts (.turbo, dist, build, coverage) in lib/
</success_criteria>

<output>
After completion, create `.planning/phases/02-package-inlining/02-01-SUMMARY.md`
</output>
