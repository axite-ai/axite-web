---
phase: 07-production-build
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/www/components/SurveyResults/SurveyChart.tsx
  - apps/www/pages/state-of-startups.tsx
autonomous: true

must_haves:
  truths:
    - "SurveyChart.tsx no longer imports from non-existent studio directory"
    - "state-of-startups.tsx page builds without module resolution errors"
  artifacts:
    - path: "apps/www/components/SurveyResults/SurveyChart.tsx"
      provides: "TwoOptionToggle replacement"
  key_links: []
---

<objective>
Remove or stub the missing TwoOptionToggle import from SurveyChart.tsx.

Purpose: Fix the module not found error for studio/components/ui/TwoOptionToggle
Output: SurveyChart.tsx compiles without missing module errors
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-production-build/07-CONTEXT.md
@apps/www/components/SurveyResults/SurveyChart.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace TwoOptionToggle import with inline component</name>
  <files>apps/www/components/SurveyResults/SurveyChart.tsx</files>
  <action>
The SurveyChart.tsx component imports TwoOptionToggle from '../../../studio/components/ui/TwoOptionToggle' which doesn't exist in this project (it's from Supabase Studio, a separate app).

Create a minimal inline TwoOptionToggle component within SurveyChart.tsx that provides the same functionality. Looking at the usage:

```tsx
<TwoOptionToggle
  options={['SQL', 'chart']}
  activeOption={view}
  onClickOption={handleViewChange}
  borderOverride="border-overlay"
/>
```

1. Remove the import line:
```tsx
import TwoOptionToggle from '../../../studio/components/ui/TwoOptionToggle'
```

2. Add an inline TwoOptionToggle component before the SurveyChart function (after the imports and interfaces):

```tsx
// Inline TwoOptionToggle - replaces missing studio component
function TwoOptionToggle({
  options,
  activeOption,
  onClickOption,
  borderOverride,
}: {
  options: [string, string]
  activeOption: string
  onClickOption: (option: any) => void
  borderOverride?: string
}) {
  return (
    <div className={`flex rounded border ${borderOverride || 'border-default'} overflow-hidden`}>
      {options.map((option) => (
        <button
          key={option}
          onClick={() => onClickOption(option.toLowerCase())}
          className={`px-3 py-1 text-xs font-mono uppercase tracking-wide transition-colors ${
            activeOption === option.toLowerCase()
              ? 'bg-foreground text-background'
              : 'bg-transparent text-foreground-light hover:text-foreground'
          }`}
        >
          {option}
        </button>
      ))}
    </div>
  )
}
```

This preserves the component's toggle functionality without requiring the external studio dependency.
  </action>
  <verify>
Run: `grep -n "TwoOptionToggle" apps/www/components/SurveyResults/SurveyChart.tsx`
Verify:
- No import from '../../../studio/...' path
- TwoOptionToggle function is defined locally in the file
  </verify>
  <done>TwoOptionToggle is defined inline, no external import needed</done>
</task>

</tasks>

<verification>
1. Run `pnpm build 2>&1 | grep "TwoOptionToggle"` - should return no errors
2. Run `pnpm build 2>&1 | grep "studio/components"` - should return no matches
</verification>

<success_criteria>
- No module resolution errors for TwoOptionToggle
- SurveyChart.tsx compiles successfully
- state-of-startups.tsx page no longer blocked by this error
</success_criteria>

<output>
After completion, create `.planning/phases/07-production-build/07-02-SUMMARY.md`
</output>
